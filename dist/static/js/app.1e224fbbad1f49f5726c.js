webpackJsonp([1],{0:function(t,e){},"1VQc":function(t,e){t.exports={getMonthName:function(t){switch(t){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"That's not a valid month number"}},getMonthNumber:function(t){switch(t){case"January":return 1;case"February":return 2;case"March":return 3;case"April":return 4;case"May":return 5;case"June":return 6;case"July":return 7;case"August":return 8;case"September":return 9;case"October":return 10;case"November":return 11;case"December":return 12;default:return"That's not a correct month name"}},renderChart:function(t,e,r,a,n,o,s){return new Chart(t,{type:"bar",data:{labels:e,backgroundColor:"#FFFFFF",datasets:[{label:r,data:a,backgroundColor:"#CC0033",borderColor:[],borderWidth:1}]},options:{onClick:s,title:{display:!0,text:r},scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:n}}],xAxes:[{scaleLabel:{display:!0,labelString:o}}]}}})}}},"5SSt":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("7+uW"),n=r("BO1k"),o=r.n(n),s=r("1VQc"),i=r.n(s),l={name:"HelloWorld",data:function(){return{url:"https://api.mlab.com/api/1/databases/signins/collections/signins?apiKey=Vp2I1nmC961_lV2whDojmmOuZzXb0S_o&l=10000",data:"",dataLoaded:!1,months:[{name:"January",shortName:"jan",month:1},{name:"February",shortName:"feb",month:2},{name:"March",shortName:"mar",month:3},{name:"April",shortName:"apr",month:4},{name:"May",shortName:"may",month:5},{name:"June",shortName:"jun",month:6},{name:"July",shortName:"jul",month:7},{name:"August",shortName:"aug",month:8},{name:"September",shortName:"sept",month:9},{name:"October",shortName:"oct",month:10},{name:"November",shortName:"nov",month:11},{name:"December",shortName:"dec",month:12}],selectedMonth:"",selectedDay:"",selectedMonthDays:"",month:[],monthName:"",selectedYear:"",selectedHour:"",myBarChart:"",hourChart:"",visitsToday:"Loading...",visitsThisMonth:""}},created:function(){var t=this;this.$http.get("https://api.mlab.com/api/1/databases/signins/collections/signins?apiKey=Vp2I1nmC961_lV2whDojmmOuZzXb0S_o&l=10000").then(function(e){t.data=e.body,t.dataLoaded=!0,console.log("Data has loaded"),t.renderYearlyBarChart(),t.renderHourlyPercentageBarChart(),t.dailyStats()})},methods:{monthFilter:function(){var t=this;this.month=[];var e=this.selectedMonth;this.data.filter(function(r){return t.returnByMonth(r,e)}),this.renderMonthlyBarChart()},dailyStats:function(){var t=new Date,e=0,r=0,a=!0,n=!1,s=void 0;try{for(var i,l=o()(this.data);!(a=(i=l.next()).done);a=!0){var h=i.value,c=new Date(h.date);c.getDate()===t.getDate()&&c.getMonth()+1===t.getMonth()+1&&(e+=1),c.getMonth()+1===t.getMonth()+1&&c.getFullYear()===t.getFullYear()&&(r+=1)}}catch(t){n=!0,s=t}finally{try{!a&&l.return&&l.return()}finally{if(n)throw s}}this.visitsToday=e,this.visitsThisMonth=r},returnByMonth:function(t,e){new Date(t.date).getMonth()+1===e&&this.month.push(t)},getDaysInMonth:function(t,e){for(var r=new Date(e,t,1),a=[];r.getMonth()===t;)a.push(new Date(r)),r.setDate(r.getDate()+1);return a},renderYearlyBarChart:function(){var t=this,e=new Date,r=this.selectedYear;r=void 0===r||""===r?e.getFullYear():this.selectedYear;var a=[],n=[],s=!0,l=!1,h=void 0;try{for(var c,u=o()(this.months);!(s=(c=u.next()).done);s=!0){var d=c.value;a.push(d.name),n.push(d.month)}}catch(t){l=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(l)throw h}}var v=[],m=!0,y=!1,f=void 0;try{for(var p,g=o()(n);!(m=(p=g.next()).done);m=!0){var _=p.value,M=0,b=!0,C=!1,D=void 0;try{for(var w,N=o()(this.data);!(b=(w=N.next()).done);b=!0){var B=w.value;new Date(B.date).getMonth()+1===_&&(M+=1)}}catch(t){C=!0,D=t}finally{try{!b&&N.return&&N.return()}finally{if(C)throw D}}v.push(M)}}catch(t){y=!0,f=t}finally{try{!m&&g.return&&g.return()}finally{if(y)throw f}}var x=document.getElementById("year-visits-chart").getContext("2d");i.a.renderChart(x,a,"Visits per day per for "+this.selectedYear,v,"Visits","Months",function(e,r){var a=r[0]._model.label,n=i.a.getMonthNumber(a);t.selectedMonth=n,t.myBarChart&&t.myBarChart.destroy(),t.renderMonthlyBarChart()})},renderMonthlyBarChart:function(){var t=this,e=new Date,r=this.selectedMonth;r=void 0===r||""===r?e.getMonth()+1:this.selectedMonth,this.monthName=i.a.getMonthName(r);var a=[],n=[],s=this.getDaysInMonth(r-1,2018),l=!0,h=!1,c=void 0;try{for(var u,d=o()(s);!(l=(u=d.next()).done);l=!0){var v=u.value;a.push(v.getDate())}}catch(t){h=!0,c=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw c}}this.selectedMonthDays=a;e.getYear();for(var m=0;m<a.length;m++){var y=0,f=!0,p=!1,g=void 0;try{for(var _,M=o()(this.data);!(f=(_=M.next()).done);f=!0){var b=_.value,C=new Date(b.date);C.getDate()===a[m]&&C.getMonth()+1===r&&(y+=1)}}catch(t){p=!0,g=t}finally{try{!f&&M.return&&M.return()}finally{if(p)throw g}}n.push(y)}var D=document.getElementById("month-visits-chart").getContext("2d");this.myBarChart=i.a.renderChart(D,a,"Visits per day per for "+this.monthName,n,"Visits","Day",function(e,r){var a=r[0]._model.label;t.selectedDay=a,t.hourChart&&t.hourChart.destroy(),t.renderHourlyBarChart()})},renderHourlyBarChart:function(){for(var t=[],e=[8,9,10,11,12,13,14,15,16,17,18],r=new Date,a=this.selectedDay,n=this.selectedMonth,s=(r.getYear(),0);s<e.length;s++){var l=0,h=!0,c=!1,u=void 0;try{for(var d,v=o()(this.data);!(h=(d=v.next()).done);h=!0){var m=d.value,y=new Date(m.date);y.getHours()===e[s]&&y.getDate()===a&&y.getMonth()+1===n&&(l+=1)}}catch(t){c=!0,u=t}finally{try{!h&&v.return&&v.return()}finally{if(c)throw u}}t.push(l)}var f=document.getElementById("hourly-visits-chart").getContext("2d");this.hourChart=i.a.renderChart(f,e,"Visits per hour for "+this.selectedDay+"/"+i.a.getMonthName(this.selectedMonth),t,"Visits","Hour")},renderHourlyPercentageBarChart:function(){new Date;var t=[8,9,10,11,12,13,14,15,16,17,18],e=[],r=!0,a=!1,n=void 0;try{for(var s,l=o()(t);!(r=(s=l.next()).done);r=!0){var h=s.value,c=0,u=!0,d=!1,v=void 0;try{for(var m,y=o()(this.data);!(u=(m=y.next()).done);u=!0){var f=m.value;new Date(f.date).getHours()===h&&(c+=1)}}catch(t){d=!0,v=t}finally{try{!u&&y.return&&y.return()}finally{if(d)throw v}}e.push(c)}}catch(t){a=!0,n=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw n}}var p=e.reduce(function(t,e){return t+e}),g=[],_=!0,M=!1,b=void 0;try{for(var C,D=o()(e);!(_=(C=D.next()).done);_=!0){var w=(h=C.value)/p*100,N=Math.round(w);g.push(N)}}catch(t){M=!0,b=t}finally{try{!_&&D.return&&D.return()}finally{if(M)throw b}}var B=document.getElementById("total-hourly-visits-chart").getContext("2d");i.a.renderChart(B,t,"Visit hour by percentage",g,"Percentage (%)","Hours")}}},h={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"hello"},[r("h2",[t._v("Visits today: "+t._s(t.visitsToday))]),t._v(" "),r("h2",[t._v("Visits this month: "+t._s(t.visitsThisMonth))]),t._v(" "),r("div",{attrs:{id:"select-boxes"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedMonth=e.target.multiple?r:r[0]},t.monthFilter]}},[r("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Choose month")]),t._v(" "),t._l(t.months,function(e){return r("option",{domProps:{value:e.month}},[t._v("\n        "+t._s(e.name)+"\n      ")])})],2),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay,expression:"selectedDay"}],on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedDay=e.target.multiple?r:r[0]},t.renderHourlyBarChart]}},[t.selectedMonth?r("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("Select a day")]):r("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("← Select month")]),t._v(" "),t._l(this.selectedMonthDays,function(e){return r("option",{domProps:{value:e}},[t._v("\n        "+t._s(e)+"\n      ")])})],2)]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chartBlock"},[e("canvas",{attrs:{id:"year-visits-chart"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chartBlock"},[e("canvas",{attrs:{id:"month-visits-chart"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chartBlock"},[e("canvas",{attrs:{id:"hourly-visits-chart"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chartBlock"},[e("canvas",{attrs:{id:"total-hourly-visits-chart"}})])}]};var c={name:"App",components:{HelloWorld:r("VU/8")(l,h,!1,function(t){r("5SSt")},"data-v-0151e542",null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("HelloWorld")],1)},staticRenderFns:[]};var d=r("VU/8")(c,u,!1,function(t){r("WSaQ")},null,null).exports,v=r("8+8L");a.a.use(v.a),a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:d},template:"<App/>"})},WSaQ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1e224fbbad1f49f5726c.js.map