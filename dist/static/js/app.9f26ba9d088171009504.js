webpackJsonp([1],{0:function(e,t){},A55Y:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n=a("bOdI"),o=a.n(n),s=a("BO1k"),l=a.n(s),i={name:"HelloWorld",data:function(){return{url:"https://api.mlab.com/api/1/databases/signins/collections/signins?apiKey=Vp2I1nmC961_lV2whDojmmOuZzXb0S_o&l=10000",data:"",dataLoaded:!1,months:[{name:"January",shortName:"jan",month:1},{name:"February",shortName:"feb",month:2},{name:"March",shortName:"mar",month:3},{name:"April",shortName:"apr",month:4},{name:"May",shortName:"may",month:5},{name:"June",shortName:"jun",month:6},{name:"July",shortName:"jul",month:7},{name:"August",shortName:"aug",month:8},{name:"September",shortName:"sept",month:9},{name:"October",shortName:"oct",month:10},{name:"November",shortName:"nov",month:11},{name:"December",shortName:"dec",month:12}],selectedMonth:"",selectedDay:"",selectedMonthDays:"",month:[],monthName:"",selectedYear:"",selectedHour:"",myBarChart:"",hourChart:"",visitsToday:"",visitsThisMonth:""}},created:function(){var e=this;this.$http.get("https://api.mlab.com/api/1/databases/signins/collections/signins?apiKey=Vp2I1nmC961_lV2whDojmmOuZzXb0S_o&l=10000").then(function(t){e.data=t.body,e.dataLoaded=!0,console.log("Data has loaded"),e.renderYearlyBarChart(),e.renderHourlyPercentageBarChart(),e.dailyStats()})},methods:{monthFilter:function(){var e=this;this.month=[];var t=this.selectedMonth;this.data.filter(function(a){return e.returnByMonth(a,t)}),this.renderMonthlyBarChart()},dailyStats:function(){var e=new Date,t=0,a=0,r=!0,n=!1,o=void 0;try{for(var s,i=l()(this.data);!(r=(s=i.next()).done);r=!0){var h=s.value,c=new Date(h.date);c.getDate()===e.getDate()&&c.getMonth()+1===e.getMonth()+1&&(t+=1),c.getMonth()+1===e.getMonth()+1&&c.getFullYear()===e.getFullYear()&&(a+=1)}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}this.visitsToday=t,this.visitsThisMonth=a},returnByMonth:function(e,t){new Date(e.date).getMonth()+1===t&&this.month.push(e)},getDaysInMonth:function(e,t){for(var a=new Date(t,e,1),r=[];a.getMonth()===e;)r.push(new Date(a)),a.setDate(a.getDate()+1);return r},renderYearlyBarChart:function(){var e,t=this,a=new Date,r=this.selectedYear;r=void 0===r||""===r?a.getFullYear():this.selectedYear;var n=[],s=[],i=!0,h=!1,c=void 0;try{for(var d,u=l()(this.months);!(i=(d=u.next()).done);i=!0){var v=d.value;n.push(v.name),s.push(v.month)}}catch(e){h=!0,c=e}finally{try{!i&&u.return&&u.return()}finally{if(h)throw c}}var y=[],m=!0,p=!1,f=void 0;try{for(var b,g=l()(s);!(m=(b=g.next()).done);m=!0){var C=b.value,F=0,M=!0,_=!1,D=void 0;try{for(var w,x=l()(this.data);!(M=(w=x.next()).done);M=!0){var A=w.value;new Date(A.date).getMonth()+1===C&&(F+=1)}}catch(e){_=!0,D=e}finally{try{!M&&x.return&&x.return()}finally{if(_)throw D}}y.push(F)}}catch(e){p=!0,f=e}finally{try{!m&&g.return&&g.return()}finally{if(p)throw f}}var B=document.getElementById("year-visits-chart").getContext("2d");new Chart(B,{type:"bar",data:(e={labels:n,backgroundColor:"#FFFFFF"},o()(e,"backgroundColor","#FFFFFF"),o()(e,"datasets",[{label:"Visits per day per for "+this.selectedYear,data:y,backgroundColor:"#CC0033",borderColor:[],borderWidth:1}]),e),options:{onClick:function(e,a){var r=a[0]._model.label,n=t.getMonthReverse(r);t.selectedMonth=n,t.myBarChart&&t.myBarChart.destroy(),t.renderMonthlyBarChart()},title:{display:!0,text:"Visits per day per for "+this.selectedYear},scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Visits"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Month"}}]}}})},renderHourlyPercentageBarChart:function(){new Date;var e,t=[8,9,10,11,12,13,14,15,16,17,18],a=[],r=!0,n=!1,s=void 0;try{for(var i,h=l()(t);!(r=(i=h.next()).done);r=!0){var c=i.value,d=0,u=!0,v=!1,y=void 0;try{for(var m,p=l()(this.data);!(u=(m=p.next()).done);u=!0){var f=m.value;new Date(f.date).getHours()===c&&(d+=1)}}catch(e){v=!0,y=e}finally{try{!u&&p.return&&p.return()}finally{if(v)throw y}}a.push(d)}}catch(e){n=!0,s=e}finally{try{!r&&h.return&&h.return()}finally{if(n)throw s}}var b=a.reduce(function(e,t){return e+t}),g=[],C=!0,F=!1,M=void 0;try{for(var _,D=l()(a);!(C=(_=D.next()).done);C=!0){var w=(c=_.value)/b*100,x=Math.round(w);g.push(x)}}catch(e){F=!0,M=e}finally{try{!C&&D.return&&D.return()}finally{if(F)throw M}}var A=document.getElementById("total-hourly-visits-chart").getContext("2d");new Chart(A,{type:"bar",data:(e={labels:t,backgroundColor:"#FFFFFF"},o()(e,"backgroundColor","#FFFFFF"),o()(e,"datasets",[{label:"Visit hour by percentage",data:g,backgroundColor:"#CC0033",borderColor:[],borderWidth:1}]),e),options:{title:{display:!0,text:"Visit hour by percentage"},scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Percentage (%)"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Hours"}}]}}})},renderMonthlyBarChart:function(){var e,t=this,a=new Date,r=this.selectedMonth;r=void 0===r||""===r?a.getMonth()+1:this.selectedMonth,this.monthName=this.getMonth(r);var n=[],s=[],i=this.getDaysInMonth(r-1,2018),h=!0,c=!1,d=void 0;try{for(var u,v=l()(i);!(h=(u=v.next()).done);h=!0){var y=u.value;n.push(y.getDate())}}catch(e){c=!0,d=e}finally{try{!h&&v.return&&v.return()}finally{if(c)throw d}}this.selectedMonthDays=n;a.getYear();for(var m=0;m<n.length;m++){var p=0,f=!0,b=!1,g=void 0;try{for(var C,F=l()(this.data);!(f=(C=F.next()).done);f=!0){var M=C.value,_=new Date(M.date);_.getDate()===n[m]&&_.getMonth()+1===r&&(p+=1)}}catch(e){b=!0,g=e}finally{try{!f&&F.return&&F.return()}finally{if(b)throw g}}s.push(p)}var D=document.getElementById("month-visits-chart").getContext("2d");this.myBarChart=new Chart(D,{type:"bar",data:(e={labels:n,backgroundColor:"#FFFFFF"},o()(e,"backgroundColor","#FFFFFF"),o()(e,"datasets",[{label:"Visits per day per for "+this.monthName,data:s,backgroundColor:"#CC0033",borderColor:[],borderWidth:1}]),e),options:{onClick:function(e,a){var r=a[0]._model.label;t.selectedDay=r,t.hourChart&&t.hourChart.destroy(),t.renderHourlyBarChart()},title:{display:!0,text:"Visits per day per for "+this.monthName},scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Visits"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Day"}}]}}})},renderHourlyBarChart:function(){for(var e,t=[],a=[8,9,10,11,12,13,14,15,16,17,18],r=new Date,n=this.selectedDay,s=this.selectedMonth,i=(r.getYear(),0);i<a.length;i++){var h=0,c=!0,d=!1,u=void 0;try{for(var v,y=l()(this.data);!(c=(v=y.next()).done);c=!0){var m=v.value,p=new Date(m.date);p.getHours()===a[i]&&p.getDate()===n&&p.getMonth()+1===s&&(h+=1)}}catch(e){d=!0,u=e}finally{try{!c&&y.return&&y.return()}finally{if(d)throw u}}t.push(h)}var f=document.getElementById("hourly-visits-chart").getContext("2d");this.hourChart=new Chart(f,{type:"bar",data:(e={labels:a,backgroundColor:"#FFFFFF"},o()(e,"backgroundColor","#FFFFFF"),o()(e,"datasets",[{label:"Visits per hour for "+this.selectedDay+"/"+this.getMonth(this.selectedMonth),data:t,backgroundColor:"#CC0033",borderColor:[],borderWidth:1}]),e),options:{title:{display:!0,text:"Visits per hour for "+this.selectedDay+"/"+this.getMonth(this.selectedMonth)},scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Visits"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Hour"}}]}}})},getMonth:function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December"}},getMonthReverse:function(e){switch(e){case"January":return 1;case"February":return 2;case"March":return 3;case"April":return 4;case"May":return 5;case"June":return 6;case"July":return 7;case"August":return 8;case"September":return 9;case"October":return 10;case"November":return 11;case"December":return 12}}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h2",[e._v("Visits today: "+e._s(e.visitsToday))]),e._v(" "),a("h2",[e._v("Visits this month: "+e._s(e.visitsThisMonth))]),e._v(" "),a("div",{attrs:{id:"select-boxes"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMonth,expression:"selectedMonth"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedMonth=t.target.multiple?a:a[0]},e.monthFilter]}},[a("option",{attrs:{disabled:"",selected:"",value:""}},[e._v("Please select one")]),e._v(" "),e._l(e.months,function(t){return a("option",{domProps:{value:t.month}},[e._v("\n        "+e._s(t.name)+"\n      ")])})],2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDay,expression:"selectedDay"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedDay=t.target.multiple?a:a[0]},e.renderHourlyBarChart]}},[e.selectedMonth?a("option",{attrs:{disabled:"",selected:"",value:""}},[e._v("Select a day")]):a("option",{attrs:{disabled:"",selected:"",value:""}},[e._v("← Select month")]),e._v(" "),e._l(this.selectedMonthDays,function(t){return a("option",{domProps:{value:t}},[e._v("\n        "+e._s(t)+"\n      ")])})],2)]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chartBlock"},[t("canvas",{attrs:{id:"year-visits-chart"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chartBlock"},[t("canvas",{attrs:{id:"month-visits-chart"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chartBlock"},[t("canvas",{attrs:{id:"hourly-visits-chart"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"chartBlock"},[t("canvas",{attrs:{id:"total-hourly-visits-chart"}})])}]};var c={name:"App",components:{HelloWorld:a("VU/8")(i,h,!1,function(e){a("A55Y")},"data-v-1b33e386",null).exports}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("HelloWorld")],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(e){a("WSaQ")},null,null).exports,v=a("8+8L");r.a.use(v.a),r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:u},template:"<App/>"})},WSaQ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9f26ba9d088171009504.js.map